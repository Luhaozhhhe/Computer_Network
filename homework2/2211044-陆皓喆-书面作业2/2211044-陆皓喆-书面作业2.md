# <center>《计算机网络》书面作业-2</center>

<center>学院：网络空间安全学院   &ensp; 专业：信息安全  &ensp;  姓名：陆皓喆</center>

## 习题2-1

### 题目

互联网络的结构如下图所示。其中，$LAN1$、$LAN2$与$LAN3$是局域网，$R1$、$R2$与$R3$是路由器，$R2$接入$Internet$。图中出现的地址均为标准分类的$IPv4$地址，没有进一步将其划分子网。

<img src=".\pic\image-20241222203400322.png" alt="image-20241222203400322" style="zoom: 67%;" />

请回答以下$3$个问题：

$(1)$根据已知条件构造$R1$的路由表（包含目的网络、下一跳地址与转发端口），要求写出构造过程$(40$分$)$

$(2)$如果$R1$收到一个目的地址为$130.19.237.5$的$IP$分组，那么$R1$将选择哪个端口作为下一跳的转发端口，要求写出判断过程$(5$分$)$

$(3)$$R1$能否收到目的地址为$127.1.1.1$的$IP$分组，要求说明原因$(5$分$)$



### 解答

$(1)$**构造过程：**

首先判断图中网络个数，一共可以分为下面五类网络：

- 首先是$LAN1$，也就是$202.9.6.0$，是一个$C$类地址
- 然后是$LAN2$，也就是$173.10.0.0$，是一个$B$类地址
- 然后是$LAN3$，也就是$135.11.0.0$，也是一个$B$类地址
- 然后是$Internet$，也就是其他网络
- 然后是$212.12.16.0$，是一个$C$类地址

然后根据网络的情况，我们根据已知条件去构造$R1$的路由表。

- 首先是$135.11.0.0$，该网络与$R1$直接相连，所以不需要进行跳转，转发端口为$E1$
- 然后是$212.12.16.0$，该网络与$R1$也直接相连，所以也不需要进行跳转，转发端口为$S0$
- 然后是$202.9.6.0$，我们发现需要经过$R3$进行转发，所以有下一跳，为$212.12.16.40$，转发端口为$S0$
- 然后是$173.10.0.0$，我们发现也需要经过$R3$进行转发，所以有下一跳，也为$212.12.16.40$，转发端口为$S0$
- 最后是$Internet$，也就是其他网络，为默认路由$0.0.0.0$，我们发现需要经过$R2$进行转发，所以有下一跳，为$135.11.5.2$，转发端口为$E1$

综上所述，我们可以构建出$R1$对应的路由表了。

| 目的网络      | 下一跳地址     | 转发端口 |
| ------------- | -------------- | -------- |
| $135.11.0.0$  | 无             | $E1$     |
| $212.12.16.0$ | 无             | $S0$     |
| $202.9.6.0$   | $212.12.16.40$ | $S0$     |
| $173.10.0.0$  | $212.12.16.40$ | $S0$     |
| $0.0.0.0$     | $135.11.5.2$   | $E1$     |

$(2)$我们发现，$130.19.237.5$这个地址为$B$类地址，所以对应的网络号为$130.19.0.0$，这个$ip$地址不属于前四个网络，所以归属于其他网络，也就是默认路由$0.0.0.0$。所以，对应的转发端口为$E1$，下一跳的地址为$135.11.5.2$。

$(3)$$127.1.1.1$地址为回环地址，只会在端主机内部返回，不会经过网络的传输。而$R1$为路由器，所以$R1$不会接收到这个分组。



## 习题2-2

### 题目

$WireShark$捕获的$DHCP$交互过程如下图所示。其中，第$4$个$DHCP$报文包括详细解析结果。

<img src=".\pic\image-20241222203442145.png" alt="image-20241222203442145" style="zoom:50%;" />

请回答以下$4$个问题：

$(1)$图中$①$~$④$位置的$DHCP$请求或响应的正式名称$(20$分$)$

$(2)$$DHCP$服务器的$IP$地址，$DHCP$报文传输采用单播还是广播模式$(10$分$)$

$(3)$主机通过$DHCP$服务器获得的$IP$地址与租用期长度$(10$分$)$

$(4)$主机从$DHCP$服务器获得$DNS$服务器与默认路由器的$IP$地址$(10$分$)$



### 解答

$(1)$

- $1$——$discover$(发现)
- $2$——$offer$(提供)
- $3$——$request$(请求)
- $4$——$ACK$(确认)

$(2)$

- $DHCP$服务器的$IP$地址为$201.6.10.1$；
- 采用的是广播的模式，因为我们的$Dest\; Addr$全部为$1$，所以是广播的模式。

$(3)$

- 主机通过$DHCP$服务器获得的$IP$地址：对应到图片中的$Client\; Address$，也就是主机作为客户端所获取到的$IP$地址，为$201.6.10.55$。
- 租用期长度：发现最少的IP地址时间需求为$691200$秒，所以为$8$天

$(4)$

- $DNS$服务器的$IP$地址：$201.6.10.8$
- 默认路由器的$IP$地址：$201.6.10.2$